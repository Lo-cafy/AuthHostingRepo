2025-09-20 12:09:03.496 +05:30 [INF] Starting Auth API
2025-09-20 12:09:03.670 +05:30 [INF] User profile is available. Using 'C:\Users\muham\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-20 12:09:04.354 +05:30 [INF] Now listening on: https://localhost:7179
2025-09-20 12:09:04.356 +05:30 [INF] Now listening on: http://localhost:5179
2025-09-20 12:09:04.462 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-20 12:09:04.492 +05:30 [INF] Hosting environment: Development
2025-09-20 12:09:04.502 +05:30 [INF] Content root path: D:\SingleProject1\AuthServiceClone\AuthService
2025-09-20 12:09:10.804 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/index.html - null null
2025-09-20 12:09:11.386 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/index.html - 200 null text/html;charset=utf-8 593.9435ms
2025-09-20 12:09:11.510 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/_framework/aspnetcore-browser-refresh.js - null null
2025-09-20 12:09:11.519 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 9.1424ms
2025-09-20 12:09:11.571 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/_vs/browserLink - null null
2025-09-20 12:09:11.754 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/_vs/browserLink - 200 null text/javascript; charset=UTF-8 182.9305ms
2025-09-20 12:09:11.853 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/swagger/v1/swagger.json - null null
2025-09-20 12:09:11.884 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 30.8294ms
2025-09-20 12:09:46.698 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7179/api/Auth/login - application/json 67
2025-09-20 12:09:46.712 +05:30 [INF] CORS policy execution successful.
2025-09-20 12:09:48.460 +05:30 [INF] Executing endpoint 'AuthService.Api.Controllers.AuthController.Login (AuthService.Api)'
2025-09-20 12:09:48.514 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthService.Application.DTOs.Auth.LoginRequestDto) on controller AuthService.Api.Controllers.AuthController (AuthService.Api).
2025-09-20 12:09:49.189 +05:30 [ERR] Database function authenticate_password failed for email user@example.com
Npgsql.PostgresException (0x80004005): 42883: function auth.authenticate_password(text, text, jsonb, uuid) does not exist

POSITION: 8
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteScalar(Boolean async, CancellationToken cancellationToken)
   at AuthService.Infrastructure.Services.DatabaseFunctionService.AuthenticatePasswordAsync(String email, String password, Object deviceInfo, Nullable`1 requestId) in D:\SingleProject1\AuthServiceClone\AuthService.Infrastructure\Services\DatabaseFunctionService.cs:line 98
  Exception data:
    Severity: ERROR
    SqlState: 42883
    MessageText: function auth.authenticate_password(text, text, jsonb, uuid) does not exist
    Hint: No function matches the given name and argument types. You might need to add explicit type casts.
    Position: 8
    File: parse_func.c
    Line: 636
    Routine: ParseFuncOrColumn
2025-09-20 12:09:49.356 +05:30 [ERR] Login failed for email: user@example.com
AuthService.Shared.Exceptions.AuthException: Login failed due to database error
   at AuthService.Application.Services.AuthService.LoginAsync(LoginRequestDto request, DeviceInfoDto deviceInfo) in D:\SingleProject1\AuthServiceClone\AuthService.Application\Services\AuthService.cs:line 100
2025-09-20 12:09:49.503 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 12:09:49.511 +05:30 [INF] Executed action AuthService.Api.Controllers.AuthController.Login (AuthService.Api) in 992.4014ms
2025-09-20 12:09:49.512 +05:30 [INF] Executed endpoint 'AuthService.Api.Controllers.AuthController.Login (AuthService.Api)'
2025-09-20 12:09:49.515 +05:30 [INF] HTTP POST /api/Auth/login responded 401 in 2797.8991 ms
2025-09-20 12:09:49.516 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7179/api/Auth/login - 401 null application/json; charset=utf-8 2817.6156ms
2025-09-20 14:45:42.484 +05:30 [INF] Starting Auth API
2025-09-20 14:45:42.670 +05:30 [INF] User profile is available. Using 'C:\Users\muham\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-20 14:45:43.296 +05:30 [INF] Now listening on: https://localhost:7179
2025-09-20 14:45:43.297 +05:30 [INF] Now listening on: http://localhost:5179
2025-09-20 14:45:43.400 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-20 14:45:43.404 +05:30 [INF] Hosting environment: Development
2025-09-20 14:45:43.405 +05:30 [INF] Content root path: D:\SingleProject1\AuthServiceClone\AuthService
2025-09-20 14:45:44.423 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/index.html - null null
2025-09-20 14:45:44.794 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/index.html - 200 null text/html;charset=utf-8 388.0372ms
2025-09-20 14:45:44.832 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/_framework/aspnetcore-browser-refresh.js - null null
2025-09-20 14:45:44.851 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/_vs/browserLink - null null
2025-09-20 14:45:44.865 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 32.6632ms
2025-09-20 14:45:45.004 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/_vs/browserLink - 200 null text/javascript; charset=UTF-8 153.5174ms
2025-09-20 14:45:45.124 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/swagger/v1/swagger.json - null null
2025-09-20 14:45:45.157 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 33.4051ms
2025-09-20 15:03:39.832 +05:30 [INF] Starting Auth API
2025-09-20 15:03:39.996 +05:30 [INF] User profile is available. Using 'C:\Users\muham\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-20 15:03:40.524 +05:30 [INF] Now listening on: https://localhost:7179
2025-09-20 15:03:40.526 +05:30 [INF] Now listening on: http://localhost:5179
2025-09-20 15:03:40.731 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-20 15:03:40.732 +05:30 [INF] Hosting environment: Development
2025-09-20 15:03:40.733 +05:30 [INF] Content root path: D:\SingleProject1\AuthServiceClone\AuthService
2025-09-20 15:03:42.522 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/index.html - null null
2025-09-20 15:03:42.888 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/index.html - 200 null text/html;charset=utf-8 379.5579ms
2025-09-20 15:03:43.063 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/_framework/aspnetcore-browser-refresh.js - null null
2025-09-20 15:03:43.063 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/_vs/browserLink - null null
2025-09-20 15:03:43.074 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 11.3706ms
2025-09-20 15:03:43.136 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/_vs/browserLink - 200 null text/javascript; charset=UTF-8 73.1429ms
2025-09-20 15:03:43.207 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/swagger/v1/swagger.json - null null
2025-09-20 15:03:43.237 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 29.5717ms
2025-09-20 15:03:52.521 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7179/api/Auth/login - application/json 57
2025-09-20 15:03:52.534 +05:30 [INF] CORS policy execution successful.
2025-09-20 15:03:52.695 +05:30 [INF] Executing endpoint 'AuthService.Api.Controllers.AuthController.Login (AuthService.Api)'
2025-09-20 15:03:52.744 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthService.Application.DTOs.Auth.LoginRequestDto) on controller AuthService.Api.Controllers.AuthController (AuthService.Api).
2025-09-20 15:03:53.566 +05:30 [ERR] Unexpected error during authentication for email user@example.com
System.InvalidCastException: Writing values of 'System.Int32' is not supported for parameters having NpgsqlDbType 'Uuid'.
   at Npgsql.Internal.AdoSerializerHelpers.<GetTypeInfoForWriting>g__ThrowWritingNotSupported|1_0(Type type, PgSerializerOptions options, Nullable`1 pgTypeId, Nullable`1 npgsqlDbType, Exception inner)
   at Npgsql.Internal.AdoSerializerHelpers.GetTypeInfoForWriting(Type type, Nullable`1 pgTypeId, PgSerializerOptions options, Nullable`1 npgsqlDbType)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteScalar(Boolean async, CancellationToken cancellationToken)
   at AuthService.Infrastructure.Services.DatabaseFunctionService.AuthenticatePasswordAsync(String email, String password, Object deviceInfo, Nullable`1 requestId) in D:\SingleProject1\AuthServiceClone\AuthService.Infrastructure\Services\DatabaseFunctionService.cs:line 169
2025-09-20 15:03:53.732 +05:30 [ERR] Login failed for email: user@example.com
AuthService.Shared.Exceptions.AuthException: An unexpected error occurred during authentication
   at AuthService.Application.Services.AuthService.LoginAsync(LoginRequestDto request, DeviceInfoDto deviceInfo) in D:\SingleProject1\AuthServiceClone\AuthService.Application\Services\AuthService.cs:line 100
2025-09-20 15:03:53.910 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 15:03:53.920 +05:30 [INF] Executed action AuthService.Api.Controllers.AuthController.Login (AuthService.Api) in 1171.5039ms
2025-09-20 15:03:53.923 +05:30 [INF] Executed endpoint 'AuthService.Api.Controllers.AuthController.Login (AuthService.Api)'
2025-09-20 15:03:53.926 +05:30 [INF] HTTP POST /api/Auth/login responded 401 in 1387.3422 ms
2025-09-20 15:03:53.926 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7179/api/Auth/login - 401 null application/json; charset=utf-8 1405.4816ms
2025-09-20 15:04:16.447 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7179/api/Auth/login - application/json 67
2025-09-20 15:04:16.451 +05:30 [INF] CORS policy execution successful.
2025-09-20 15:04:16.453 +05:30 [INF] Executing endpoint 'AuthService.Api.Controllers.AuthController.Login (AuthService.Api)'
2025-09-20 15:04:16.455 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthService.Application.DTOs.Auth.LoginRequestDto) on controller AuthService.Api.Controllers.AuthController (AuthService.Api).
2025-09-20 15:04:16.637 +05:30 [ERR] Unexpected error during authentication for email user@example.com
System.InvalidCastException: Writing values of 'System.Int32' is not supported for parameters having NpgsqlDbType 'Uuid'.
   at Npgsql.Internal.AdoSerializerHelpers.<GetTypeInfoForWriting>g__ThrowWritingNotSupported|1_0(Type type, PgSerializerOptions options, Nullable`1 pgTypeId, Nullable`1 npgsqlDbType, Exception inner)
   at Npgsql.Internal.AdoSerializerHelpers.GetTypeInfoForWriting(Type type, Nullable`1 pgTypeId, PgSerializerOptions options, Nullable`1 npgsqlDbType)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteScalar(Boolean async, CancellationToken cancellationToken)
   at AuthService.Infrastructure.Services.DatabaseFunctionService.AuthenticatePasswordAsync(String email, String password, Object deviceInfo, Nullable`1 requestId) in D:\SingleProject1\AuthServiceClone\AuthService.Infrastructure\Services\DatabaseFunctionService.cs:line 169
2025-09-20 15:04:16.705 +05:30 [ERR] Login failed for email: user@example.com
AuthService.Shared.Exceptions.AuthException: An unexpected error occurred during authentication
   at AuthService.Application.Services.AuthService.LoginAsync(LoginRequestDto request, DeviceInfoDto deviceInfo) in D:\SingleProject1\AuthServiceClone\AuthService.Application\Services\AuthService.cs:line 100
2025-09-20 15:04:16.819 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 15:04:16.820 +05:30 [INF] Executed action AuthService.Api.Controllers.AuthController.Login (AuthService.Api) in 364.5074ms
2025-09-20 15:04:16.820 +05:30 [INF] Executed endpoint 'AuthService.Api.Controllers.AuthController.Login (AuthService.Api)'
2025-09-20 15:04:16.821 +05:30 [INF] HTTP POST /api/Auth/login responded 401 in 368.6577 ms
2025-09-20 15:04:16.822 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7179/api/Auth/login - 401 null application/json; charset=utf-8 375.1951ms
2025-09-20 15:04:42.129 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7179/api/Auth/login - application/json 70
2025-09-20 15:04:42.135 +05:30 [INF] CORS policy execution successful.
2025-09-20 15:04:42.139 +05:30 [INF] Executing endpoint 'AuthService.Api.Controllers.AuthController.Login (AuthService.Api)'
2025-09-20 15:04:42.139 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthService.Application.DTOs.Auth.LoginRequestDto) on controller AuthService.Api.Controllers.AuthController (AuthService.Api).
2025-09-20 15:04:42.191 +05:30 [ERR] Unexpected error during authentication for email yasayasar@gmail.com
System.InvalidCastException: Writing values of 'System.Int32' is not supported for parameters having NpgsqlDbType 'Uuid'.
   at Npgsql.Internal.AdoSerializerHelpers.<GetTypeInfoForWriting>g__ThrowWritingNotSupported|1_0(Type type, PgSerializerOptions options, Nullable`1 pgTypeId, Nullable`1 npgsqlDbType, Exception inner)
   at Npgsql.Internal.AdoSerializerHelpers.GetTypeInfoForWriting(Type type, Nullable`1 pgTypeId, PgSerializerOptions options, Nullable`1 npgsqlDbType)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteScalar(Boolean async, CancellationToken cancellationToken)
   at AuthService.Infrastructure.Services.DatabaseFunctionService.AuthenticatePasswordAsync(String email, String password, Object deviceInfo, Nullable`1 requestId) in D:\SingleProject1\AuthServiceClone\AuthService.Infrastructure\Services\DatabaseFunctionService.cs:line 169
2025-09-20 15:04:42.223 +05:30 [ERR] Login failed for email: yasayasar@gmail.com
AuthService.Shared.Exceptions.AuthException: An unexpected error occurred during authentication
   at AuthService.Application.Services.AuthService.LoginAsync(LoginRequestDto request, DeviceInfoDto deviceInfo) in D:\SingleProject1\AuthServiceClone\AuthService.Application\Services\AuthService.cs:line 100
2025-09-20 15:04:42.277 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 15:04:42.278 +05:30 [INF] Executed action AuthService.Api.Controllers.AuthController.Login (AuthService.Api) in 137.6374ms
2025-09-20 15:04:42.278 +05:30 [INF] Executed endpoint 'AuthService.Api.Controllers.AuthController.Login (AuthService.Api)'
2025-09-20 15:04:42.279 +05:30 [INF] HTTP POST /api/Auth/login responded 401 in 143.2407 ms
2025-09-20 15:04:42.280 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7179/api/Auth/login - 401 null application/json; charset=utf-8 155.6287ms
2025-09-20 16:24:57.438 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7179/api/Auth/login - application/json 70
2025-09-20 16:24:57.464 +05:30 [INF] CORS policy execution successful.
2025-09-20 16:24:57.477 +05:30 [INF] Executing endpoint 'AuthService.Api.Controllers.AuthController.Login (AuthService.Api)'
2025-09-20 16:24:57.494 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthService.Application.DTOs.Auth.LoginRequestDto) on controller AuthService.Api.Controllers.AuthController (AuthService.Api).
2025-09-20 16:24:57.801 +05:30 [ERR] Unexpected error during authentication for email yasayasar@gmail.com
System.InvalidCastException: Writing values of 'System.Int32' is not supported for parameters having NpgsqlDbType 'Uuid'.
   at Npgsql.Internal.AdoSerializerHelpers.<GetTypeInfoForWriting>g__ThrowWritingNotSupported|1_0(Type type, PgSerializerOptions options, Nullable`1 pgTypeId, Nullable`1 npgsqlDbType, Exception inner)
   at Npgsql.Internal.AdoSerializerHelpers.GetTypeInfoForWriting(Type type, Nullable`1 pgTypeId, PgSerializerOptions options, Nullable`1 npgsqlDbType)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteScalar(Boolean async, CancellationToken cancellationToken)
   at AuthService.Infrastructure.Services.DatabaseFunctionService.AuthenticatePasswordAsync(String email, String password, Object deviceInfo, Nullable`1 requestId) in D:\SingleProject1\AuthServiceClone\AuthService.Infrastructure\Services\DatabaseFunctionService.cs:line 169
2025-09-20 16:24:57.866 +05:30 [ERR] Login failed for email: yasayasar@gmail.com
AuthService.Shared.Exceptions.AuthException: An unexpected error occurred during authentication
   at AuthService.Application.Services.AuthService.LoginAsync(LoginRequestDto request, DeviceInfoDto deviceInfo) in D:\SingleProject1\AuthServiceClone\AuthService.Application\Services\AuthService.cs:line 100
2025-09-20 16:24:57.981 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 16:24:57.983 +05:30 [INF] Executed action AuthService.Api.Controllers.AuthController.Login (AuthService.Api) in 487.8793ms
2025-09-20 16:24:57.985 +05:30 [INF] Executed endpoint 'AuthService.Api.Controllers.AuthController.Login (AuthService.Api)'
2025-09-20 16:24:57.988 +05:30 [INF] HTTP POST /api/Auth/login responded 401 in 520.8944 ms
2025-09-20 16:24:57.990 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7179/api/Auth/login - 401 null application/json; charset=utf-8 563.8404ms
2025-09-20 16:25:04.942 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7179/api/Auth/login - application/json 71
2025-09-20 16:25:04.953 +05:30 [INF] CORS policy execution successful.
2025-09-20 16:25:04.963 +05:30 [INF] Executing endpoint 'AuthService.Api.Controllers.AuthController.Login (AuthService.Api)'
2025-09-20 16:25:04.963 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthService.Application.DTOs.Auth.LoginRequestDto) on controller AuthService.Api.Controllers.AuthController (AuthService.Api).
2025-09-20 16:25:05.031 +05:30 [ERR] Unexpected error during authentication for email yasayaxsar@gmail.com
System.InvalidCastException: Writing values of 'System.Int32' is not supported for parameters having NpgsqlDbType 'Uuid'.
   at Npgsql.Internal.AdoSerializerHelpers.<GetTypeInfoForWriting>g__ThrowWritingNotSupported|1_0(Type type, PgSerializerOptions options, Nullable`1 pgTypeId, Nullable`1 npgsqlDbType, Exception inner)
   at Npgsql.Internal.AdoSerializerHelpers.GetTypeInfoForWriting(Type type, Nullable`1 pgTypeId, PgSerializerOptions options, Nullable`1 npgsqlDbType)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteScalar(Boolean async, CancellationToken cancellationToken)
   at AuthService.Infrastructure.Services.DatabaseFunctionService.AuthenticatePasswordAsync(String email, String password, Object deviceInfo, Nullable`1 requestId) in D:\SingleProject1\AuthServiceClone\AuthService.Infrastructure\Services\DatabaseFunctionService.cs:line 169
2025-09-20 16:25:05.082 +05:30 [ERR] Login failed for email: yasayaxsar@gmail.com
AuthService.Shared.Exceptions.AuthException: An unexpected error occurred during authentication
   at AuthService.Application.Services.AuthService.LoginAsync(LoginRequestDto request, DeviceInfoDto deviceInfo) in D:\SingleProject1\AuthServiceClone\AuthService.Application\Services\AuthService.cs:line 100
2025-09-20 16:25:05.181 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 16:25:05.182 +05:30 [INF] Executed action AuthService.Api.Controllers.AuthController.Login (AuthService.Api) in 217.5991ms
2025-09-20 16:25:05.190 +05:30 [INF] Executed endpoint 'AuthService.Api.Controllers.AuthController.Login (AuthService.Api)'
2025-09-20 16:25:05.191 +05:30 [INF] HTTP POST /api/Auth/login responded 401 in 227.9377 ms
2025-09-20 16:25:05.192 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7179/api/Auth/login - 401 null application/json; charset=utf-8 249.5688ms
2025-09-20 16:25:08.113 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/index.html - null null
2025-09-20 16:25:08.190 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/index.html - 200 null text/html;charset=utf-8 78.3162ms
2025-09-20 16:25:08.252 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/_framework/aspnetcore-browser-refresh.js - null null
2025-09-20 16:25:08.252 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/_vs/browserLink - null null
2025-09-20 16:25:08.259 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 7.9981ms
2025-09-20 16:25:08.306 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/_vs/browserLink - 200 null text/javascript; charset=UTF-8 53.5164ms
2025-09-20 16:25:08.595 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/swagger/v1/swagger.json - null null
2025-09-20 16:25:08.655 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 60.5846ms
2025-09-20 16:25:16.109 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7179/api/Auth/login - application/json 70
2025-09-20 16:25:16.110 +05:30 [INF] CORS policy execution successful.
2025-09-20 16:25:16.111 +05:30 [INF] Executing endpoint 'AuthService.Api.Controllers.AuthController.Login (AuthService.Api)'
2025-09-20 16:25:16.115 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthService.Application.DTOs.Auth.LoginRequestDto) on controller AuthService.Api.Controllers.AuthController (AuthService.Api).
2025-09-20 16:25:16.183 +05:30 [ERR] Unexpected error during authentication for email yasayasar@gmail.com
System.InvalidCastException: Writing values of 'System.Int32' is not supported for parameters having NpgsqlDbType 'Uuid'.
   at Npgsql.Internal.AdoSerializerHelpers.<GetTypeInfoForWriting>g__ThrowWritingNotSupported|1_0(Type type, PgSerializerOptions options, Nullable`1 pgTypeId, Nullable`1 npgsqlDbType, Exception inner)
   at Npgsql.Internal.AdoSerializerHelpers.GetTypeInfoForWriting(Type type, Nullable`1 pgTypeId, PgSerializerOptions options, Nullable`1 npgsqlDbType)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteScalar(Boolean async, CancellationToken cancellationToken)
   at AuthService.Infrastructure.Services.DatabaseFunctionService.AuthenticatePasswordAsync(String email, String password, Object deviceInfo, Nullable`1 requestId) in D:\SingleProject1\AuthServiceClone\AuthService.Infrastructure\Services\DatabaseFunctionService.cs:line 169
2025-09-20 16:25:16.236 +05:30 [ERR] Login failed for email: yasayasar@gmail.com
AuthService.Shared.Exceptions.AuthException: An unexpected error occurred during authentication
   at AuthService.Application.Services.AuthService.LoginAsync(LoginRequestDto request, DeviceInfoDto deviceInfo) in D:\SingleProject1\AuthServiceClone\AuthService.Application\Services\AuthService.cs:line 100
2025-09-20 16:25:16.321 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 16:25:16.322 +05:30 [INF] Executed action AuthService.Api.Controllers.AuthController.Login (AuthService.Api) in 197.7633ms
2025-09-20 16:25:16.322 +05:30 [INF] Executed endpoint 'AuthService.Api.Controllers.AuthController.Login (AuthService.Api)'
2025-09-20 16:25:16.323 +05:30 [INF] HTTP POST /api/Auth/login responded 401 in 212.1931 ms
2025-09-20 16:25:16.327 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7179/api/Auth/login - 401 null application/json; charset=utf-8 217.9088ms
2025-09-20 16:25:34.102 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7179/api/Auth/login - application/json 70
2025-09-20 16:25:34.108 +05:30 [INF] CORS policy execution successful.
2025-09-20 16:25:34.108 +05:30 [INF] Executing endpoint 'AuthService.Api.Controllers.AuthController.Login (AuthService.Api)'
2025-09-20 16:25:34.109 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthService.Application.DTOs.Auth.LoginRequestDto) on controller AuthService.Api.Controllers.AuthController (AuthService.Api).
2025-09-20 16:25:34.170 +05:30 [ERR] Unexpected error during authentication for email yasayasar@gmail.com
System.InvalidCastException: Writing values of 'System.Int32' is not supported for parameters having NpgsqlDbType 'Uuid'.
   at Npgsql.Internal.AdoSerializerHelpers.<GetTypeInfoForWriting>g__ThrowWritingNotSupported|1_0(Type type, PgSerializerOptions options, Nullable`1 pgTypeId, Nullable`1 npgsqlDbType, Exception inner)
   at Npgsql.Internal.AdoSerializerHelpers.GetTypeInfoForWriting(Type type, Nullable`1 pgTypeId, PgSerializerOptions options, Nullable`1 npgsqlDbType)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteScalar(Boolean async, CancellationToken cancellationToken)
   at AuthService.Infrastructure.Services.DatabaseFunctionService.AuthenticatePasswordAsync(String email, String password, Object deviceInfo, Nullable`1 requestId) in D:\SingleProject1\AuthServiceClone\AuthService.Infrastructure\Services\DatabaseFunctionService.cs:line 169
2025-09-20 16:25:34.217 +05:30 [ERR] Login failed for email: yasayasar@gmail.com
AuthService.Shared.Exceptions.AuthException: An unexpected error occurred during authentication
   at AuthService.Application.Services.AuthService.LoginAsync(LoginRequestDto request, DeviceInfoDto deviceInfo) in D:\SingleProject1\AuthServiceClone\AuthService.Application\Services\AuthService.cs:line 100
2025-09-20 16:25:34.321 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 16:25:34.322 +05:30 [INF] Executed action AuthService.Api.Controllers.AuthController.Login (AuthService.Api) in 212.4495ms
2025-09-20 16:25:34.322 +05:30 [INF] Executed endpoint 'AuthService.Api.Controllers.AuthController.Login (AuthService.Api)'
2025-09-20 16:25:34.323 +05:30 [INF] HTTP POST /api/Auth/login responded 401 in 214.6161 ms
2025-09-20 16:25:34.325 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7179/api/Auth/login - 401 null application/json; charset=utf-8 222.6736ms
2025-09-20 16:25:38.600 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/index.html - null null
2025-09-20 16:25:38.623 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/index.html - 200 null text/html;charset=utf-8 24.6277ms
2025-09-20 16:25:38.668 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/_framework/aspnetcore-browser-refresh.js - null null
2025-09-20 16:25:38.668 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/_vs/browserLink - null null
2025-09-20 16:25:38.680 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 11.6624ms
2025-09-20 16:25:38.708 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.3714ms
2025-09-20 16:25:38.808 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/swagger/v1/swagger.json - null null
2025-09-20 16:25:38.835 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 41.2713ms
2025-09-20 16:25:47.537 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7179/api/Auth/login - application/json 70
2025-09-20 16:25:47.538 +05:30 [INF] CORS policy execution successful.
2025-09-20 16:25:47.539 +05:30 [INF] Executing endpoint 'AuthService.Api.Controllers.AuthController.Login (AuthService.Api)'
2025-09-20 16:25:47.540 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthService.Application.DTOs.Auth.LoginRequestDto) on controller AuthService.Api.Controllers.AuthController (AuthService.Api).
2025-09-20 16:25:47.615 +05:30 [ERR] Unexpected error during authentication for email yasayasar@gmail.com
System.InvalidCastException: Writing values of 'System.Int32' is not supported for parameters having NpgsqlDbType 'Uuid'.
   at Npgsql.Internal.AdoSerializerHelpers.<GetTypeInfoForWriting>g__ThrowWritingNotSupported|1_0(Type type, PgSerializerOptions options, Nullable`1 pgTypeId, Nullable`1 npgsqlDbType, Exception inner)
   at Npgsql.Internal.AdoSerializerHelpers.GetTypeInfoForWriting(Type type, Nullable`1 pgTypeId, PgSerializerOptions options, Nullable`1 npgsqlDbType)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteScalar(Boolean async, CancellationToken cancellationToken)
   at AuthService.Infrastructure.Services.DatabaseFunctionService.AuthenticatePasswordAsync(String email, String password, Object deviceInfo, Nullable`1 requestId) in D:\SingleProject1\AuthServiceClone\AuthService.Infrastructure\Services\DatabaseFunctionService.cs:line 169
2025-09-20 16:25:47.674 +05:30 [ERR] Login failed for email: yasayasar@gmail.com
AuthService.Shared.Exceptions.AuthException: An unexpected error occurred during authentication
   at AuthService.Application.Services.AuthService.LoginAsync(LoginRequestDto request, DeviceInfoDto deviceInfo) in D:\SingleProject1\AuthServiceClone\AuthService.Application\Services\AuthService.cs:line 100
2025-09-20 16:25:47.792 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 16:25:47.795 +05:30 [INF] Executed action AuthService.Api.Controllers.AuthController.Login (AuthService.Api) in 254.9961ms
2025-09-20 16:25:47.800 +05:30 [INF] Executed endpoint 'AuthService.Api.Controllers.AuthController.Login (AuthService.Api)'
2025-09-20 16:25:47.801 +05:30 [INF] HTTP POST /api/Auth/login responded 401 in 262.2346 ms
2025-09-20 16:25:47.801 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7179/api/Auth/login - 401 null application/json; charset=utf-8 264.502ms
2025-09-20 16:26:09.059 +05:30 [INF] Starting Auth API
2025-09-20 16:26:09.265 +05:30 [INF] User profile is available. Using 'C:\Users\muham\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-20 16:26:10.078 +05:30 [INF] Now listening on: https://localhost:7179
2025-09-20 16:26:10.078 +05:30 [INF] Now listening on: http://localhost:5179
2025-09-20 16:26:10.408 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-20 16:26:10.409 +05:30 [INF] Hosting environment: Development
2025-09-20 16:26:10.410 +05:30 [INF] Content root path: D:\SingleProject1\AuthServiceClone\AuthService
2025-09-20 16:26:11.549 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/index.html - null null
2025-09-20 16:26:12.617 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/index.html - 200 null text/html;charset=utf-8 1086.5288ms
2025-09-20 16:26:12.635 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/_framework/aspnetcore-browser-refresh.js - null null
2025-09-20 16:26:12.643 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/_vs/browserLink - null null
2025-09-20 16:26:12.983 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 347.8314ms
2025-09-20 16:26:13.064 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/_vs/browserLink - 200 null text/javascript; charset=UTF-8 420.5745ms
2025-09-20 16:26:13.162 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/swagger/v1/swagger.json - null null
2025-09-20 16:26:13.235 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 74.802ms
2025-09-20 16:26:19.694 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7179/api/Auth/login - application/json 70
2025-09-20 16:26:19.706 +05:30 [INF] CORS policy execution successful.
2025-09-20 16:26:21.888 +05:30 [INF] Executing endpoint 'AuthService.Api.Controllers.AuthController.Login (AuthService.Api)'
2025-09-20 16:26:21.931 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthService.Application.DTOs.Auth.LoginRequestDto) on controller AuthService.Api.Controllers.AuthController (AuthService.Api).
2025-09-20 16:26:22.490 +05:30 [ERR] PostgreSQL error during authentication for email yasayasar@gmail.com. Code: 3D000, Message: 3D000: database "autcccth_services" does not exist
Npgsql.PostgresException (0x80004005): 3D000: database "autcccth_services" does not exist
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at AuthService.Infrastructure.Data.NpgsqlConnectionFactory.CreateConnectionAsync() in D:\SingleProject1\AuthServiceClone\AuthService.Infrastructure\Data\NpgsqlConnectionFactory.cs:line 25
   at AuthService.Infrastructure.Services.DatabaseFunctionService.GetConnectionAsync() in D:\SingleProject1\AuthServiceClone\AuthService.Infrastructure\Services\DatabaseFunctionService.cs:line 26
   at AuthService.Infrastructure.Services.DatabaseFunctionService.AuthenticatePasswordAsync(String email, String password, Object deviceInfo, Nullable`1 requestId) in D:\SingleProject1\AuthServiceClone\AuthService.Infrastructure\Services\DatabaseFunctionService.cs:line 140
  Exception data:
    Severity: FATAL
    SqlState: 3D000
    MessageText: database "autcccth_services" does not exist
    File: postinit.c
    Line: 1034
    Routine: InitPostgres
2025-09-20 16:26:22.680 +05:30 [ERR] Login failed for email: yasayasar@gmail.com
AuthService.Shared.Exceptions.AuthException: Authentication failed due to database error
   at AuthService.Application.Services.AuthService.LoginAsync(LoginRequestDto request, DeviceInfoDto deviceInfo) in D:\SingleProject1\AuthServiceClone\AuthService.Application\Services\AuthService.cs:line 100
2025-09-20 16:26:22.875 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 16:26:22.884 +05:30 [INF] Executed action AuthService.Api.Controllers.AuthController.Login (AuthService.Api) in 948.0247ms
2025-09-20 16:26:22.886 +05:30 [INF] Executed endpoint 'AuthService.Api.Controllers.AuthController.Login (AuthService.Api)'
2025-09-20 16:26:22.892 +05:30 [INF] HTTP POST /api/Auth/login responded 401 in 3179.7657 ms
2025-09-20 16:26:22.893 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7179/api/Auth/login - 401 null application/json; charset=utf-8 3199.1328ms
2025-09-20 16:26:55.487 +05:30 [INF] Starting Auth API
2025-09-20 16:26:55.787 +05:30 [INF] User profile is available. Using 'C:\Users\muham\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-20 16:26:56.295 +05:30 [INF] Now listening on: https://localhost:7179
2025-09-20 16:26:56.295 +05:30 [INF] Now listening on: http://localhost:5179
2025-09-20 16:26:56.394 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-20 16:26:56.399 +05:30 [INF] Hosting environment: Development
2025-09-20 16:26:56.401 +05:30 [INF] Content root path: D:\SingleProject1\AuthServiceClone\AuthService
2025-09-20 16:26:57.152 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/index.html - null null
2025-09-20 16:26:57.491 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/index.html - 200 null text/html;charset=utf-8 353.3032ms
2025-09-20 16:26:57.498 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/_framework/aspnetcore-browser-refresh.js - null null
2025-09-20 16:26:57.499 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/_vs/browserLink - null null
2025-09-20 16:26:57.539 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 40.8543ms
2025-09-20 16:26:57.685 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/_vs/browserLink - 200 null text/javascript; charset=UTF-8 186.2159ms
2025-09-20 16:26:57.876 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/swagger/v1/swagger.json - null null
2025-09-20 16:26:57.923 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 46.9785ms
2025-09-20 16:27:04.609 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7179/api/Auth/login - application/json 70
2025-09-20 16:27:04.636 +05:30 [INF] CORS policy execution successful.
2025-09-20 16:27:04.837 +05:30 [INF] Executing endpoint 'AuthService.Api.Controllers.AuthController.Login (AuthService.Api)'
2025-09-20 16:27:04.893 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthService.Application.DTOs.Auth.LoginRequestDto) on controller AuthService.Api.Controllers.AuthController (AuthService.Api).
2025-09-20 16:27:05.870 +05:30 [ERR] Unexpected error during authentication for email yasayasar@gmail.com
System.InvalidCastException: Writing values of 'System.Int32' is not supported for parameters having NpgsqlDbType 'Uuid'.
   at Npgsql.Internal.AdoSerializerHelpers.<GetTypeInfoForWriting>g__ThrowWritingNotSupported|1_0(Type type, PgSerializerOptions options, Nullable`1 pgTypeId, Nullable`1 npgsqlDbType, Exception inner)
   at Npgsql.Internal.AdoSerializerHelpers.GetTypeInfoForWriting(Type type, Nullable`1 pgTypeId, PgSerializerOptions options, Nullable`1 npgsqlDbType)
   at Npgsql.NpgsqlParameter.ResolveTypeInfo(PgSerializerOptions options)
   at Npgsql.NpgsqlParameterCollection.ProcessParameters(PgSerializerOptions options, Boolean validateValues, CommandType commandType)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteScalar(Boolean async, CancellationToken cancellationToken)
   at AuthService.Infrastructure.Services.DatabaseFunctionService.AuthenticatePasswordAsync(String email, String password, Object deviceInfo, Nullable`1 requestId) in D:\SingleProject1\AuthServiceClone\AuthService.Infrastructure\Services\DatabaseFunctionService.cs:line 169
2025-09-20 16:27:08.175 +05:30 [ERR] Login failed for email: yasayasar@gmail.com
AuthService.Shared.Exceptions.AuthException: An unexpected error occurred during authentication
   at AuthService.Application.Services.AuthService.LoginAsync(LoginRequestDto request, DeviceInfoDto deviceInfo) in D:\SingleProject1\AuthServiceClone\AuthService.Application\Services\AuthService.cs:line 100
2025-09-20 16:27:08.440 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 16:27:08.463 +05:30 [INF] Executed action AuthService.Api.Controllers.AuthController.Login (AuthService.Api) in 3554.6516ms
2025-09-20 16:27:08.476 +05:30 [INF] Executed endpoint 'AuthService.Api.Controllers.AuthController.Login (AuthService.Api)'
2025-09-20 16:27:08.488 +05:30 [INF] HTTP POST /api/Auth/login responded 401 in 3842.5840 ms
2025-09-20 16:27:08.500 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7179/api/Auth/login - 401 null application/json; charset=utf-8 3892.2653ms
2025-09-20 19:22:30.266 +05:30 [INF] Starting Auth API
2025-09-20 19:22:30.422 +05:30 [INF] User profile is available. Using 'C:\Users\mshah\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-20 19:22:30.712 +05:30 [INF] Now listening on: https://localhost:7179
2025-09-20 19:22:30.712 +05:30 [INF] Now listening on: http://localhost:5179
2025-09-20 19:22:30.856 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-20 19:22:30.856 +05:30 [INF] Hosting environment: Development
2025-09-20 19:22:30.856 +05:30 [INF] Content root path: C:\Users\mshah\Locafy\Locafy\Backend\LocafyMicroservice\services\auth_service1\AuthService
2025-09-20 19:22:33.014 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/index.html - null null
2025-09-20 19:22:33.517 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/index.html - 200 null text/html;charset=utf-8 518.3227ms
2025-09-20 19:22:33.759 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/_framework/aspnetcore-browser-refresh.js - null null
2025-09-20 19:22:33.774 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/_vs/browserLink - null null
2025-09-20 19:22:33.777 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 19.1845ms
2025-09-20 19:22:33.909 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/_vs/browserLink - 200 null text/javascript; charset=UTF-8 135.5153ms
2025-09-20 19:22:34.101 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/swagger/v1/swagger.json - null null
2025-09-20 19:22:34.159 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 58.7388ms
2025-09-20 19:22:39.174 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7179/api/Auth/login - application/json 57
2025-09-20 19:22:39.198 +05:30 [INF] CORS policy execution successful.
2025-09-20 19:22:39.445 +05:30 [INF] Executing endpoint 'AuthService.Api.Controllers.AuthController.Login (AuthService.Api)'
2025-09-20 19:22:39.521 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthService.Application.DTOs.Auth.LoginRequestDto) on controller AuthService.Api.Controllers.AuthController (AuthService.Api).
2025-09-20 19:22:40.182 +05:30 [ERR] PostgreSQL error during authentication for email user@example.com. Code: 28P01, Message: 28P01: password authentication failed for user "postgres"
Npgsql.PostgresException (0x80004005): 28P01: password authentication failed for user "postgres"
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.AuthenticateSASL(List`1 mechanisms, String username, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at AuthService.Infrastructure.Data.NpgsqlConnectionFactory.CreateConnectionAsync() in C:\Users\mshah\Locafy\Locafy\Backend\LocafyMicroservice\services\auth_service1\AuthService.Infrastructure\Data\NpgsqlConnectionFactory.cs:line 25
   at AuthService.Infrastructure.Services.DatabaseFunctionService.GetConnectionAsync() in C:\Users\mshah\Locafy\Locafy\Backend\LocafyMicroservice\services\auth_service1\AuthService.Infrastructure\Services\DatabaseFunctionService.cs:line 26
   at AuthService.Infrastructure.Services.DatabaseFunctionService.AuthenticatePasswordAsync(String email, String password, Object deviceInfo, Nullable`1 requestId) in C:\Users\mshah\Locafy\Locafy\Backend\LocafyMicroservice\services\auth_service1\AuthService.Infrastructure\Services\DatabaseFunctionService.cs:line 140
  Exception data:
    Severity: FATAL
    SqlState: 28P01
    MessageText: password authentication failed for user "postgres"
    File: auth.c
    Line: 332
    Routine: auth_failed
2025-09-20 19:22:40.400 +05:30 [ERR] Login failed for email: user@example.com
AuthService.Shared.Exceptions.AuthException: Authentication failed due to database error
   at AuthService.Application.Services.AuthService.LoginAsync(LoginRequestDto request, DeviceInfoDto deviceInfo) in C:\Users\mshah\Locafy\Locafy\Backend\LocafyMicroservice\services\auth_service1\AuthService.Application\Services\AuthService.cs:line 100
2025-09-20 19:22:40.575 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 19:22:40.586 +05:30 [INF] Executed action AuthService.Api.Controllers.AuthController.Login (AuthService.Api) in 1058.9525ms
2025-09-20 19:22:40.588 +05:30 [INF] Executed endpoint 'AuthService.Api.Controllers.AuthController.Login (AuthService.Api)'
2025-09-20 19:22:40.592 +05:30 [INF] HTTP POST /api/Auth/login responded 401 in 1381.8867 ms
2025-09-20 19:22:40.594 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7179/api/Auth/login - 401 null application/json; charset=utf-8 1421.5538ms
2025-09-20 19:23:02.419 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7179/api/Auth/login - application/json 57
2025-09-20 19:23:02.425 +05:30 [INF] CORS policy execution successful.
2025-09-20 19:23:02.431 +05:30 [INF] Executing endpoint 'AuthService.Api.Controllers.AuthController.Login (AuthService.Api)'
2025-09-20 19:23:02.432 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthService.Application.DTOs.Auth.LoginRequestDto) on controller AuthService.Api.Controllers.AuthController (AuthService.Api).
2025-09-20 19:23:02.663 +05:30 [ERR] PostgreSQL error during authentication for email user@example.com. Code: 28P01, Message: 28P01: password authentication failed for user "postgres"
Npgsql.PostgresException (0x80004005): 28P01: password authentication failed for user "postgres"
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.AuthenticateSASL(List`1 mechanisms, String username, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at AuthService.Infrastructure.Data.NpgsqlConnectionFactory.CreateConnectionAsync() in C:\Users\mshah\Locafy\Locafy\Backend\LocafyMicroservice\services\auth_service1\AuthService.Infrastructure\Data\NpgsqlConnectionFactory.cs:line 25
   at AuthService.Infrastructure.Services.DatabaseFunctionService.GetConnectionAsync() in C:\Users\mshah\Locafy\Locafy\Backend\LocafyMicroservice\services\auth_service1\AuthService.Infrastructure\Services\DatabaseFunctionService.cs:line 26
   at AuthService.Infrastructure.Services.DatabaseFunctionService.AuthenticatePasswordAsync(String email, String password, Object deviceInfo, Nullable`1 requestId) in C:\Users\mshah\Locafy\Locafy\Backend\LocafyMicroservice\services\auth_service1\AuthService.Infrastructure\Services\DatabaseFunctionService.cs:line 140
  Exception data:
    Severity: FATAL
    SqlState: 28P01
    MessageText: password authentication failed for user "postgres"
    File: auth.c
    Line: 332
    Routine: auth_failed
2025-09-20 19:23:02.718 +05:30 [ERR] Login failed for email: user@example.com
AuthService.Shared.Exceptions.AuthException: Authentication failed due to database error
   at AuthService.Application.Services.AuthService.LoginAsync(LoginRequestDto request, DeviceInfoDto deviceInfo) in C:\Users\mshah\Locafy\Locafy\Backend\LocafyMicroservice\services\auth_service1\AuthService.Application\Services\AuthService.cs:line 100
2025-09-20 19:23:02.840 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 19:23:02.841 +05:30 [INF] Executed action AuthService.Api.Controllers.AuthController.Login (AuthService.Api) in 408.2168ms
2025-09-20 19:23:02.842 +05:30 [INF] Executed endpoint 'AuthService.Api.Controllers.AuthController.Login (AuthService.Api)'
2025-09-20 19:23:02.842 +05:30 [INF] HTTP POST /api/Auth/login responded 401 in 415.8723 ms
2025-09-20 19:23:02.843 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7179/api/Auth/login - 401 null application/json; charset=utf-8 426.1451ms
2025-09-20 19:27:18.296 +05:30 [INF] Starting Auth API
2025-09-20 19:27:18.389 +05:30 [INF] User profile is available. Using 'C:\Users\mshah\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-20 19:27:18.629 +05:30 [INF] Now listening on: https://localhost:7179
2025-09-20 19:27:18.630 +05:30 [INF] Now listening on: http://localhost:5179
2025-09-20 19:27:18.671 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-20 19:27:18.671 +05:30 [INF] Hosting environment: Development
2025-09-20 19:27:18.672 +05:30 [INF] Content root path: C:\Users\mshah\Locafy\Locafy\Backend\LocafyMicroservice\services\auth_service1\AuthService
2025-09-20 19:27:19.452 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/index.html - null null
2025-09-20 19:27:19.814 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/index.html - 200 null text/html;charset=utf-8 376.8777ms
2025-09-20 19:27:19.894 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/_framework/aspnetcore-browser-refresh.js - null null
2025-09-20 19:27:19.894 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/_vs/browserLink - null null
2025-09-20 19:27:19.906 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 12.6225ms
2025-09-20 19:27:19.980 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/_vs/browserLink - 200 null text/javascript; charset=UTF-8 86.3791ms
2025-09-20 19:27:20.196 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/swagger/v1/swagger.json - null null
2025-09-20 19:27:20.235 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 39.0931ms
2025-09-20 19:27:24.611 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7179/api/Auth/login - application/json 57
2025-09-20 19:27:24.626 +05:30 [INF] CORS policy execution successful.
2025-09-20 19:27:24.808 +05:30 [INF] Executing endpoint 'AuthService.Api.Controllers.AuthController.Login (AuthService.Api)'
2025-09-20 19:27:24.869 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthService.Application.DTOs.Auth.LoginRequestDto) on controller AuthService.Api.Controllers.AuthController (AuthService.Api).
2025-09-20 19:27:28.137 +05:30 [ERR] Unexpected error during authentication for email user@example.com
System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.NameResolutionPal.ProcessResult(SocketError errorCode, GetAddrInfoExContext* context)
   at System.Net.NameResolutionPal.GetAddressInfoExCallback(Int32 error, Int32 bytes, NativeOverlapped* overlapped)
--- End of stack trace from previous location ---
   at System.Net.Dns.<GetAddrInfoWithTelemetryAsync>g__CompleteAsync|34_0[T](Task task, String hostName, Int64 startingTimestamp)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync[TResult](Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at AuthService.Infrastructure.Data.NpgsqlConnectionFactory.CreateConnectionAsync() in C:\Users\mshah\Locafy\Locafy\Backend\LocafyMicroservice\services\auth_service1\AuthService.Infrastructure\Data\NpgsqlConnectionFactory.cs:line 25
   at AuthService.Infrastructure.Services.DatabaseFunctionService.GetConnectionAsync() in C:\Users\mshah\Locafy\Locafy\Backend\LocafyMicroservice\services\auth_service1\AuthService.Infrastructure\Services\DatabaseFunctionService.cs:line 26
   at AuthService.Infrastructure.Services.DatabaseFunctionService.AuthenticatePasswordAsync(String email, String password, Object deviceInfo, Nullable`1 requestId) in C:\Users\mshah\Locafy\Locafy\Backend\LocafyMicroservice\services\auth_service1\AuthService.Infrastructure\Services\DatabaseFunctionService.cs:line 140
2025-09-20 19:27:28.237 +05:30 [ERR] Login failed for email: user@example.com
AuthService.Shared.Exceptions.AuthException: An unexpected error occurred during authentication
   at AuthService.Application.Services.AuthService.LoginAsync(LoginRequestDto request, DeviceInfoDto deviceInfo) in C:\Users\mshah\Locafy\Locafy\Backend\LocafyMicroservice\services\auth_service1\AuthService.Application\Services\AuthService.cs:line 100
2025-09-20 19:27:28.372 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 19:27:28.387 +05:30 [INF] Executed action AuthService.Api.Controllers.AuthController.Login (AuthService.Api) in 3510.7245ms
2025-09-20 19:27:28.388 +05:30 [INF] Executed endpoint 'AuthService.Api.Controllers.AuthController.Login (AuthService.Api)'
2025-09-20 19:27:28.392 +05:30 [INF] HTTP POST /api/Auth/login responded 401 in 3760.7373 ms
2025-09-20 19:27:28.393 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7179/api/Auth/login - 401 null application/json; charset=utf-8 3782.6094ms
2025-09-20 19:45:36.517 +05:30 [INF] Starting Auth API
2025-09-20 19:45:36.592 +05:30 [INF] User profile is available. Using 'C:\Users\mshah\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-20 19:45:36.815 +05:30 [INF] Now listening on: https://localhost:7179
2025-09-20 19:45:36.815 +05:30 [INF] Now listening on: http://localhost:5179
2025-09-20 19:45:36.847 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-20 19:45:36.848 +05:30 [INF] Hosting environment: Development
2025-09-20 19:45:36.848 +05:30 [INF] Content root path: C:\Users\mshah\Locafy\Locafy\Backend\LocafyMicroservice\services\auth_service1\AuthService
2025-09-20 19:45:37.506 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/index.html - null null
2025-09-20 19:45:37.864 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/index.html - 200 null text/html;charset=utf-8 375.2064ms
2025-09-20 19:45:38.040 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/_vs/browserLink - null null
2025-09-20 19:45:38.040 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/_framework/aspnetcore-browser-refresh.js - null null
2025-09-20 19:45:38.052 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 11.5662ms
2025-09-20 19:45:38.120 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/_vs/browserLink - 200 null text/javascript; charset=UTF-8 79.9621ms
2025-09-20 19:45:38.190 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/swagger/v1/swagger.json - null null
2025-09-20 19:45:38.222 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 32.0868ms
2025-09-20 19:45:42.871 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7179/api/Auth/login - application/json 57
2025-09-20 19:45:42.880 +05:30 [INF] CORS policy execution successful.
2025-09-20 19:45:43.003 +05:30 [INF] Executing endpoint 'AuthService.Api.Controllers.AuthController.Login (AuthService.Api)'
2025-09-20 19:45:43.045 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthService.Application.DTOs.Auth.LoginRequestDto) on controller AuthService.Api.Controllers.AuthController (AuthService.Api).
2025-09-20 19:45:46.130 +05:30 [ERR] Unexpected error during authentication for email user@example.com
System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.NameResolutionPal.ProcessResult(SocketError errorCode, GetAddrInfoExContext* context)
   at System.Net.NameResolutionPal.GetAddressInfoExCallback(Int32 error, Int32 bytes, NativeOverlapped* overlapped)
--- End of stack trace from previous location ---
   at System.Net.Dns.<GetAddrInfoWithTelemetryAsync>g__CompleteAsync|34_0[T](Task task, String hostName, Int64 startingTimestamp)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync[TResult](Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at AuthService.Infrastructure.Data.NpgsqlConnectionFactory.CreateConnectionAsync() in C:\Users\mshah\Locafy\Locafy\Backend\LocafyMicroservice\services\auth_service1\AuthService.Infrastructure\Data\NpgsqlConnectionFactory.cs:line 27
   at AuthService.Infrastructure.Services.DatabaseFunctionService.GetConnectionAsync() in C:\Users\mshah\Locafy\Locafy\Backend\LocafyMicroservice\services\auth_service1\AuthService.Infrastructure\Services\DatabaseFunctionService.cs:line 26
   at AuthService.Infrastructure.Services.DatabaseFunctionService.AuthenticatePasswordAsync(String email, String password, Object deviceInfo, Nullable`1 requestId) in C:\Users\mshah\Locafy\Locafy\Backend\LocafyMicroservice\services\auth_service1\AuthService.Infrastructure\Services\DatabaseFunctionService.cs:line 140
2025-09-20 19:45:46.232 +05:30 [ERR] Login failed for email: user@example.com
AuthService.Shared.Exceptions.AuthException: An unexpected error occurred during authentication
   at AuthService.Application.Services.AuthService.LoginAsync(LoginRequestDto request, DeviceInfoDto deviceInfo) in C:\Users\mshah\Locafy\Locafy\Backend\LocafyMicroservice\services\auth_service1\AuthService.Application\Services\AuthService.cs:line 100
2025-09-20 19:45:46.391 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 19:45:46.402 +05:30 [INF] Executed action AuthService.Api.Controllers.AuthController.Login (AuthService.Api) in 3353.8153ms
2025-09-20 19:45:46.404 +05:30 [INF] Executed endpoint 'AuthService.Api.Controllers.AuthController.Login (AuthService.Api)'
2025-09-20 19:45:46.406 +05:30 [INF] HTTP POST /api/Auth/login responded 401 in 3520.9221 ms
2025-09-20 19:45:46.407 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7179/api/Auth/login - 401 null application/json; charset=utf-8 3536.195ms
2025-09-20 20:03:40.490 +05:30 [INF] Starting Auth API
2025-09-20 20:03:40.550 +05:30 [INF] User profile is available. Using 'C:\Users\mshah\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-20 20:03:40.718 +05:30 [INF] Now listening on: https://localhost:7179
2025-09-20 20:03:40.718 +05:30 [INF] Now listening on: http://localhost:5179
2025-09-20 20:03:40.751 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-20 20:03:40.752 +05:30 [INF] Hosting environment: Development
2025-09-20 20:03:40.752 +05:30 [INF] Content root path: C:\Users\mshah\Locafy\Locafy\Backend\LocafyMicroservice\services\auth_service1\AuthService
2025-09-20 20:03:41.786 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/index.html - null null
2025-09-20 20:03:42.121 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/index.html - 200 null text/html;charset=utf-8 350.2851ms
2025-09-20 20:03:42.171 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/_framework/aspnetcore-browser-refresh.js - null null
2025-09-20 20:03:42.171 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/_vs/browserLink - null null
2025-09-20 20:03:42.189 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 18.6216ms
2025-09-20 20:03:42.255 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/_vs/browserLink - 200 null text/javascript; charset=UTF-8 83.8939ms
2025-09-20 20:03:42.366 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/swagger/v1/swagger.json - null null
2025-09-20 20:03:42.402 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 36.9978ms
2025-09-20 20:03:50.421 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7179/api/Auth/login - application/json 57
2025-09-20 20:03:50.435 +05:30 [INF] CORS policy execution successful.
2025-09-20 20:03:50.560 +05:30 [INF] Executing endpoint 'AuthService.Api.Controllers.AuthController.Login (AuthService.Api)'
2025-09-20 20:03:50.611 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthService.Application.DTOs.Auth.LoginRequestDto) on controller AuthService.Api.Controllers.AuthController (AuthService.Api).
2025-09-20 20:03:53.646 +05:30 [ERR] Unexpected error during authentication for email user@example.com
System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.NameResolutionPal.ProcessResult(SocketError errorCode, GetAddrInfoExContext* context)
   at System.Net.NameResolutionPal.GetAddressInfoExCallback(Int32 error, Int32 bytes, NativeOverlapped* overlapped)
--- End of stack trace from previous location ---
   at System.Net.Dns.<GetAddrInfoWithTelemetryAsync>g__CompleteAsync|34_0[T](Task task, String hostName, Int64 startingTimestamp)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync[TResult](Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at AuthService.Infrastructure.Data.NpgsqlConnectionFactory.CreateConnectionAsync() in C:\Users\mshah\Locafy\Locafy\Backend\LocafyMicroservice\services\auth_service1\AuthService.Infrastructure\Data\NpgsqlConnectionFactory.cs:line 27
   at AuthService.Infrastructure.Services.DatabaseFunctionService.GetConnectionAsync() in C:\Users\mshah\Locafy\Locafy\Backend\LocafyMicroservice\services\auth_service1\AuthService.Infrastructure\Services\DatabaseFunctionService.cs:line 26
   at AuthService.Infrastructure.Services.DatabaseFunctionService.AuthenticatePasswordAsync(String email, String password, Object deviceInfo, Nullable`1 requestId) in C:\Users\mshah\Locafy\Locafy\Backend\LocafyMicroservice\services\auth_service1\AuthService.Infrastructure\Services\DatabaseFunctionService.cs:line 140
2025-09-20 20:03:53.721 +05:30 [ERR] Login failed for email: user@example.com
AuthService.Shared.Exceptions.AuthException: An unexpected error occurred during authentication
   at AuthService.Application.Services.AuthService.LoginAsync(LoginRequestDto request, DeviceInfoDto deviceInfo) in C:\Users\mshah\Locafy\Locafy\Backend\LocafyMicroservice\services\auth_service1\AuthService.Application\Services\AuthService.cs:line 100
2025-09-20 20:03:53.810 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-20 20:03:53.817 +05:30 [INF] Executed action AuthService.Api.Controllers.AuthController.Login (AuthService.Api) in 3202.6365ms
2025-09-20 20:03:53.818 +05:30 [INF] Executed endpoint 'AuthService.Api.Controllers.AuthController.Login (AuthService.Api)'
2025-09-20 20:03:53.820 +05:30 [INF] HTTP POST /api/Auth/login responded 401 in 3381.0341 ms
2025-09-20 20:03:53.821 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7179/api/Auth/login - 401 null application/json; charset=utf-8 3401.0771ms
