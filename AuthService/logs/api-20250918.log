2025-09-18 20:01:43.929 +05:30 [INF] Starting Auth API
2025-09-18 20:01:44.151 +05:30 [INF] User profile is available. Using 'C:\Users\muham\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-18 20:01:45.025 +05:30 [INF] Now listening on: https://localhost:7179
2025-09-18 20:01:45.028 +05:30 [INF] Now listening on: http://localhost:5179
2025-09-18 20:01:45.156 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-18 20:01:45.164 +05:30 [INF] Hosting environment: Development
2025-09-18 20:01:45.172 +05:30 [INF] Content root path: D:\SingleProject1\AuthServiceClone\AuthService
2025-09-18 20:01:48.736 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/index.html - null null
2025-09-18 20:01:49.628 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/index.html - 200 null text/html;charset=utf-8 906.5685ms
2025-09-18 20:01:49.754 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/_framework/aspnetcore-browser-refresh.js - null null
2025-09-18 20:01:49.761 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/_vs/browserLink - null null
2025-09-18 20:01:49.802 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 48.299ms
2025-09-18 20:01:50.022 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/_vs/browserLink - 200 null text/javascript; charset=UTF-8 261.1755ms
2025-09-18 20:01:50.422 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/swagger/v1/swagger.json - null null
2025-09-18 20:01:50.978 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 555.8661ms
2025-09-18 20:01:55.549 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7179/api/Account/verify-email - application/json 23
2025-09-18 20:01:55.561 +05:30 [INF] CORS policy execution successful.
2025-09-18 20:01:55.713 +05:30 [INF] Executing endpoint 'AuthService.Api.Controllers.AccountController.VerifyEmail (AuthService.Api)'
2025-09-18 20:01:55.786 +05:30 [INF] Route matched with {action = "VerifyEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerifyEmail(AuthService.Application.DTOs.Account.VerifyEmailDto) on controller AuthService.Api.Controllers.AccountController (AuthService.Api).
2025-09-18 20:01:56.300 +05:30 [ERR] Database function verify_email failed
Npgsql.PostgresException (0x80004005): 28P01: password authentication failed for user "postgres"
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.AuthenticateSASL(List`1 mechanisms, String username, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at AuthService.Infrastructure.Services.DatabaseFunctionService.VerifyEmailAsync(String token, Nullable`1 requestId) in D:\SingleProject1\AuthServiceClone\AuthService.Infrastructure\Services\DatabaseFunctionService.cs:line 115
  Exception data:
    Severity: FATAL
    SqlState: 28P01
    MessageText: password authentication failed for user "postgres"
    File: auth.c
    Line: 332
    Routine: auth_failed
2025-09-18 20:01:56.525 +05:30 [ERR] Email verification failed
Npgsql.PostgresException (0x80004005): 28P01: password authentication failed for user "postgres"
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.AuthenticateSASL(List`1 mechanisms, String username, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at AuthService.Infrastructure.Services.DatabaseFunctionService.VerifyEmailAsync(String token, Nullable`1 requestId) in D:\SingleProject1\AuthServiceClone\AuthService.Infrastructure\Services\DatabaseFunctionService.cs:line 115
   at AuthService.Application.Services.AccountService.VerifyEmailAsync(VerifyEmailDto request) in D:\SingleProject1\AuthServiceClone\AuthService.Application\Services\AccountService.cs:line 43
  Exception data:
    Severity: FATAL
    SqlState: 28P01
    MessageText: password authentication failed for user "postgres"
    File: auth.c
    Line: 332
    Routine: auth_failed
2025-09-18 20:01:56.675 +05:30 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-18 20:01:56.695 +05:30 [INF] Executed action AuthService.Api.Controllers.AccountController.VerifyEmail (AuthService.Api) in 902.6009ms
2025-09-18 20:01:56.699 +05:30 [INF] Executed endpoint 'AuthService.Api.Controllers.AccountController.VerifyEmail (AuthService.Api)'
2025-09-18 20:01:56.702 +05:30 [ERR] HTTP POST /api/Account/verify-email responded 500 in 1130.2535 ms
2025-09-18 20:01:56.703 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7179/api/Account/verify-email - 500 null application/json; charset=utf-8 1154.1463ms
2025-09-18 20:16:31.157 +05:30 [INF] Starting Auth API
2025-09-18 20:16:31.315 +05:30 [INF] User profile is available. Using 'C:\Users\muham\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-18 20:16:31.812 +05:30 [INF] Now listening on: https://localhost:7179
2025-09-18 20:16:31.813 +05:30 [INF] Now listening on: http://localhost:5179
2025-09-18 20:16:31.924 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-18 20:16:31.926 +05:30 [INF] Hosting environment: Development
2025-09-18 20:16:31.931 +05:30 [INF] Content root path: D:\SingleProject1\AuthServiceClone\AuthService
2025-09-18 20:16:33.354 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/index.html - null null
2025-09-18 20:16:33.903 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/index.html - 200 null text/html;charset=utf-8 558.611ms
2025-09-18 20:16:33.918 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/_framework/aspnetcore-browser-refresh.js - null null
2025-09-18 20:16:33.936 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/_vs/browserLink - null null
2025-09-18 20:16:33.963 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 44.152ms
2025-09-18 20:16:34.235 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/_vs/browserLink - 200 null text/javascript; charset=UTF-8 299.417ms
2025-09-18 20:16:34.299 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/swagger/v1/swagger.json - null null
2025-09-18 20:16:34.331 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 32.3982ms
2025-09-18 20:16:54.013 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7179/api/Auth/login - application/json 57
2025-09-18 20:16:54.028 +05:30 [INF] CORS policy execution successful.
2025-09-18 20:16:54.165 +05:30 [INF] Executing endpoint 'AuthService.Api.Controllers.AuthController.Login (AuthService.Api)'
2025-09-18 20:16:54.206 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthService.Application.DTOs.Auth.LoginRequestDto) on controller AuthService.Api.Controllers.AuthController (AuthService.Api).
2025-09-18 20:16:54.610 +05:30 [ERR] Database function authenticate_password failed
Npgsql.PostgresException (0x80004005): 28P01: password authentication failed for user "postgres"
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.AuthenticateSASL(List`1 mechanisms, String username, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at AuthService.Infrastructure.Services.DatabaseFunctionService.AuthenticatePasswordAsync(String email, String password, Object deviceInfo, Nullable`1 requestId) in D:\SingleProject1\AuthServiceClone\AuthService.Infrastructure\Services\DatabaseFunctionService.cs:line 76
  Exception data:
    Severity: FATAL
    SqlState: 28P01
    MessageText: password authentication failed for user "postgres"
    File: auth.c
    Line: 332
    Routine: auth_failed
2025-09-18 20:16:54.826 +05:30 [ERR] Login failed for email: user@example.com
Npgsql.PostgresException (0x80004005): 28P01: password authentication failed for user "postgres"
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.AuthenticateSASL(List`1 mechanisms, String username, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at AuthService.Infrastructure.Services.DatabaseFunctionService.AuthenticatePasswordAsync(String email, String password, Object deviceInfo, Nullable`1 requestId) in D:\SingleProject1\AuthServiceClone\AuthService.Infrastructure\Services\DatabaseFunctionService.cs:line 76
   at AuthService.Application.Services.AuthService.LoginAsync(LoginRequestDto request, DeviceInfoDto deviceInfo) in D:\SingleProject1\AuthServiceClone\AuthService.Application\Services\AuthService.cs:line 74
  Exception data:
    Severity: FATAL
    SqlState: 28P01
    MessageText: password authentication failed for user "postgres"
    File: auth.c
    Line: 332
    Routine: auth_failed
2025-09-18 20:16:54.996 +05:30 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-18 20:16:55.011 +05:30 [INF] Executed action AuthService.Api.Controllers.AuthController.Login (AuthService.Api) in 800.1347ms
2025-09-18 20:16:55.012 +05:30 [INF] Executed endpoint 'AuthService.Api.Controllers.AuthController.Login (AuthService.Api)'
2025-09-18 20:16:55.015 +05:30 [ERR] HTTP POST /api/Auth/login responded 500 in 982.7648 ms
2025-09-18 20:16:55.016 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7179/api/Auth/login - 500 null application/json; charset=utf-8 1002.8162ms
2025-09-18 20:37:17.905 +05:30 [INF] Starting Auth API
2025-09-18 20:37:18.113 +05:30 [INF] User profile is available. Using 'C:\Users\muham\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-18 20:37:18.729 +05:30 [INF] Now listening on: https://localhost:7179
2025-09-18 20:37:18.730 +05:30 [INF] Now listening on: http://localhost:5179
2025-09-18 20:37:18.834 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-18 20:37:18.838 +05:30 [INF] Hosting environment: Development
2025-09-18 20:37:18.838 +05:30 [INF] Content root path: D:\SingleProject1\AuthServiceClone\AuthService
2025-09-18 20:37:20.935 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/index.html - null null
2025-09-18 20:37:21.877 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/index.html - 200 null text/html;charset=utf-8 955.3546ms
2025-09-18 20:37:22.006 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/_framework/aspnetcore-browser-refresh.js - null null
2025-09-18 20:37:22.008 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/_vs/browserLink - null null
2025-09-18 20:37:22.038 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 31.9315ms
2025-09-18 20:37:22.125 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/_vs/browserLink - 200 null text/javascript; charset=UTF-8 116.0561ms
2025-09-18 20:37:22.545 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/swagger/v1/swagger.json - null null
2025-09-18 20:37:22.582 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 36.8405ms
2025-09-18 20:37:49.838 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7179/api/Account/verify-email - application/json 76
2025-09-18 20:37:49.866 +05:30 [INF] CORS policy execution successful.
2025-09-18 20:37:50.025 +05:30 [INF] Executing endpoint 'AuthService.Api.Controllers.AccountController.VerifyEmail (AuthService.Api)'
2025-09-18 20:37:50.075 +05:30 [INF] Route matched with {action = "VerifyEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerifyEmail(AuthService.Application.DTOs.Account.VerifyEmailDto) on controller AuthService.Api.Controllers.AccountController (AuthService.Api).
2025-09-18 20:37:50.579 +05:30 [ERR] Database function verify_email failed
Npgsql.PostgresException (0x80004005): 28P01: password authentication failed for user "postgres"
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.AuthenticateSASL(List`1 mechanisms, String username, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at AuthService.Infrastructure.Services.DatabaseFunctionService.VerifyEmailAsync(String token, Nullable`1 requestId) in D:\SingleProject1\AuthServiceClone\AuthService.Infrastructure\Services\DatabaseFunctionService.cs:line 115
  Exception data:
    Severity: FATAL
    SqlState: 28P01
    MessageText: password authentication failed for user "postgres"
    File: auth.c
    Line: 332
    Routine: auth_failed
2025-09-18 20:37:50.796 +05:30 [ERR] Email verification failed
Npgsql.PostgresException (0x80004005): 28P01: password authentication failed for user "postgres"
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.AuthenticateSASL(List`1 mechanisms, String username, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at AuthService.Infrastructure.Services.DatabaseFunctionService.VerifyEmailAsync(String token, Nullable`1 requestId) in D:\SingleProject1\AuthServiceClone\AuthService.Infrastructure\Services\DatabaseFunctionService.cs:line 115
   at AuthService.Application.Services.AccountService.VerifyEmailAsync(VerifyEmailDto request) in D:\SingleProject1\AuthServiceClone\AuthService.Application\Services\AccountService.cs:line 43
  Exception data:
    Severity: FATAL
    SqlState: 28P01
    MessageText: password authentication failed for user "postgres"
    File: auth.c
    Line: 332
    Routine: auth_failed
2025-09-18 20:37:50.979 +05:30 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-18 20:37:50.992 +05:30 [INF] Executed action AuthService.Api.Controllers.AccountController.VerifyEmail (AuthService.Api) in 909.6358ms
2025-09-18 20:37:50.993 +05:30 [INF] Executed endpoint 'AuthService.Api.Controllers.AccountController.VerifyEmail (AuthService.Api)'
2025-09-18 20:37:50.996 +05:30 [ERR] HTTP POST /api/Account/verify-email responded 500 in 1124.0955 ms
2025-09-18 20:37:50.997 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7179/api/Account/verify-email - 500 null application/json; charset=utf-8 1159.6342ms
2025-09-18 20:38:04.655 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7179/api/Account/verify-email - application/json 23
2025-09-18 20:38:04.659 +05:30 [INF] CORS policy execution successful.
2025-09-18 20:38:04.662 +05:30 [INF] Executing endpoint 'AuthService.Api.Controllers.AccountController.VerifyEmail (AuthService.Api)'
2025-09-18 20:38:04.664 +05:30 [INF] Route matched with {action = "VerifyEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerifyEmail(AuthService.Application.DTOs.Account.VerifyEmailDto) on controller AuthService.Api.Controllers.AccountController (AuthService.Api).
2025-09-18 20:38:04.826 +05:30 [ERR] Database function verify_email failed
Npgsql.PostgresException (0x80004005): 28P01: password authentication failed for user "postgres"
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.AuthenticateSASL(List`1 mechanisms, String username, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at AuthService.Infrastructure.Services.DatabaseFunctionService.VerifyEmailAsync(String token, Nullable`1 requestId) in D:\SingleProject1\AuthServiceClone\AuthService.Infrastructure\Services\DatabaseFunctionService.cs:line 115
  Exception data:
    Severity: FATAL
    SqlState: 28P01
    MessageText: password authentication failed for user "postgres"
    File: auth.c
    Line: 332
    Routine: auth_failed
2025-09-18 20:38:04.952 +05:30 [ERR] Email verification failed
Npgsql.PostgresException (0x80004005): 28P01: password authentication failed for user "postgres"
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.AuthenticateSASL(List`1 mechanisms, String username, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at AuthService.Infrastructure.Services.DatabaseFunctionService.VerifyEmailAsync(String token, Nullable`1 requestId) in D:\SingleProject1\AuthServiceClone\AuthService.Infrastructure\Services\DatabaseFunctionService.cs:line 115
   at AuthService.Application.Services.AccountService.VerifyEmailAsync(VerifyEmailDto request) in D:\SingleProject1\AuthServiceClone\AuthService.Application\Services\AccountService.cs:line 43
  Exception data:
    Severity: FATAL
    SqlState: 28P01
    MessageText: password authentication failed for user "postgres"
    File: auth.c
    Line: 332
    Routine: auth_failed
2025-09-18 20:38:05.158 +05:30 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-18 20:38:05.159 +05:30 [INF] Executed action AuthService.Api.Controllers.AccountController.VerifyEmail (AuthService.Api) in 493.1826ms
2025-09-18 20:38:05.159 +05:30 [INF] Executed endpoint 'AuthService.Api.Controllers.AccountController.VerifyEmail (AuthService.Api)'
2025-09-18 20:38:05.159 +05:30 [ERR] HTTP POST /api/Account/verify-email responded 500 in 499.5556 ms
2025-09-18 20:38:05.160 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7179/api/Account/verify-email - 500 null application/json; charset=utf-8 505.4869ms
2025-09-18 20:43:08.591 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/api/Role - null null
2025-09-18 20:43:08.605 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (admin|super_admin)
2025-09-18 20:43:08.609 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-18 20:43:08.611 +05:30 [INF] HTTP GET /api/Role responded 401 in 15.7224 ms
2025-09-18 20:43:08.613 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/api/Role - 401 0 null 22.3239ms
2025-09-18 20:59:34.252 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7179/api/Auth/login - application/json 70
2025-09-18 20:59:34.261 +05:30 [INF] CORS policy execution successful.
2025-09-18 20:59:34.262 +05:30 [INF] Executing endpoint 'AuthService.Api.Controllers.AuthController.Login (AuthService.Api)'
2025-09-18 20:59:34.276 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthService.Application.DTOs.Auth.LoginRequestDto) on controller AuthService.Api.Controllers.AuthController (AuthService.Api).
2025-09-18 20:59:34.485 +05:30 [ERR] Database function authenticate_password failed
Npgsql.PostgresException (0x80004005): 28P01: password authentication failed for user "postgres"
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.AuthenticateSASL(List`1 mechanisms, String username, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at AuthService.Infrastructure.Services.DatabaseFunctionService.AuthenticatePasswordAsync(String email, String password, Object deviceInfo, Nullable`1 requestId) in D:\SingleProject1\AuthServiceClone\AuthService.Infrastructure\Services\DatabaseFunctionService.cs:line 76
  Exception data:
    Severity: FATAL
    SqlState: 28P01
    MessageText: password authentication failed for user "postgres"
    File: auth.c
    Line: 332
    Routine: auth_failed
2025-09-18 20:59:34.637 +05:30 [ERR] Login failed for email: jane.doe@example.com
Npgsql.PostgresException (0x80004005): 28P01: password authentication failed for user "postgres"
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.AuthenticateSASL(List`1 mechanisms, String username, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at AuthService.Infrastructure.Services.DatabaseFunctionService.AuthenticatePasswordAsync(String email, String password, Object deviceInfo, Nullable`1 requestId) in D:\SingleProject1\AuthServiceClone\AuthService.Infrastructure\Services\DatabaseFunctionService.cs:line 76
   at AuthService.Application.Services.AuthService.LoginAsync(LoginRequestDto request, DeviceInfoDto deviceInfo) in D:\SingleProject1\AuthServiceClone\AuthService.Application\Services\AuthService.cs:line 74
  Exception data:
    Severity: FATAL
    SqlState: 28P01
    MessageText: password authentication failed for user "postgres"
    File: auth.c
    Line: 332
    Routine: auth_failed
2025-09-18 20:59:34.811 +05:30 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-18 20:59:34.812 +05:30 [INF] Executed action AuthService.Api.Controllers.AuthController.Login (AuthService.Api) in 535.2999ms
2025-09-18 20:59:34.813 +05:30 [INF] Executed endpoint 'AuthService.Api.Controllers.AuthController.Login (AuthService.Api)'
2025-09-18 20:59:34.814 +05:30 [ERR] HTTP POST /api/Auth/login responded 500 in 551.7783 ms
2025-09-18 20:59:34.814 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7179/api/Auth/login - 500 null application/json; charset=utf-8 574.0969ms
2025-09-18 21:00:25.098 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7179/api/Auth/register - application/json 110
2025-09-18 21:00:25.113 +05:30 [INF] CORS policy execution successful.
2025-09-18 21:00:25.118 +05:30 [INF] Executing endpoint 'AuthService.Api.Controllers.AuthController.Register (AuthService.Api)'
2025-09-18 21:00:25.122 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(AuthService.Application.DTOs.Auth.RegisterRequestDto) on controller AuthService.Api.Controllers.AuthController (AuthService.Api).
2025-09-18 21:00:25.294 +05:30 [ERR] Database function register_with_password failed
Npgsql.PostgresException (0x80004005): 28P01: password authentication failed for user "postgres"
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.AuthenticateSASL(List`1 mechanisms, String username, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at AuthService.Infrastructure.Services.DatabaseFunctionService.RegisterWithPasswordAsync(int userId, String email, String password, String role, String ipAddress, String userAgent, Nullable`1 requestId) in D:\SingleProject1\AuthServiceClone\AuthService.Infrastructure\Services\DatabaseFunctionService.cs:line 36
  Exception data:
    Severity: FATAL
    SqlState: 28P01
    MessageText: password authentication failed for user "postgres"
    File: auth.c
    Line: 332
    Routine: auth_failed
2025-09-18 21:00:25.453 +05:30 [ERR] Registration failed for email: jane.doe@example.com
Npgsql.PostgresException (0x80004005): 28P01: password authentication failed for user "postgres"
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.AuthenticateSASL(List`1 mechanisms, String username, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at AuthService.Infrastructure.Services.DatabaseFunctionService.RegisterWithPasswordAsync(int userId, String email, String password, String role, String ipAddress, String userAgent, Nullable`1 requestId) in D:\SingleProject1\AuthServiceClone\AuthService.Infrastructure\Services\DatabaseFunctionService.cs:line 36
   at AuthService.Application.Services.AuthService.RegisterAsync(RegisterRequestDto request) in D:\SingleProject1\AuthServiceClone\AuthService.Application\Services\AuthService.cs:line 170
  Exception data:
    Severity: FATAL
    SqlState: 28P01
    MessageText: password authentication failed for user "postgres"
    File: auth.c
    Line: 332
    Routine: auth_failed
2025-09-18 21:00:25.626 +05:30 [INF] Executed action AuthService.Api.Controllers.AuthController.Register (AuthService.Api) in 504.0556ms
2025-09-18 21:00:25.630 +05:30 [INF] Executed endpoint 'AuthService.Api.Controllers.AuthController.Register (AuthService.Api)'
2025-09-18 21:00:26.143 +05:30 [ERR] An unhandled exception occurred
Npgsql.PostgresException (0x80004005): 28P01: password authentication failed for user "postgres"
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.AuthenticateSASL(List`1 mechanisms, String username, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at AuthService.Infrastructure.Services.DatabaseFunctionService.RegisterWithPasswordAsync(int userId, String email, String password, String role, String ipAddress, String userAgent, Nullable`1 requestId) in D:\SingleProject1\AuthServiceClone\AuthService.Infrastructure\Services\DatabaseFunctionService.cs:line 36
   at AuthService.Application.Services.AuthService.RegisterAsync(RegisterRequestDto request) in D:\SingleProject1\AuthServiceClone\AuthService.Application\Services\AuthService.cs:line 170
   at AuthService.Api.Controllers.AuthController.Register(RegisterRequestDto request) in D:\SingleProject1\AuthServiceClone\AuthService\Controllers\AuthController.cs:line 47
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AuthService.Api.Middleware.DigitalFingerprintMiddleware.InvokeAsync(HttpContext context) in D:\SingleProject1\AuthServiceClone\AuthService\Middleware\DigitalFingerprintMiddleware.cs:line 29
   at AuthService.Api.Middleware.RateLimitingMiddleware.InvokeAsync(HttpContext context) in D:\SingleProject1\AuthServiceClone\AuthService\Middleware\RateLimitingMiddleware.cs:line 51
   at AuthService.Api.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in D:\SingleProject1\AuthServiceClone\AuthService\Middleware\ExceptionMiddleware.cs:line 26
  Exception data:
    Severity: FATAL
    SqlState: 28P01
    MessageText: password authentication failed for user "postgres"
    File: auth.c
    Line: 332
    Routine: auth_failed
2025-09-18 21:00:26.162 +05:30 [ERR] HTTP POST /api/Auth/register responded 500 in 1044.1184 ms
2025-09-18 21:00:26.164 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7179/api/Auth/register - 500 null application/json 1066.7769ms
2025-09-18 21:12:58.157 +05:30 [INF] Starting Auth API
2025-09-18 21:12:58.366 +05:30 [INF] User profile is available. Using 'C:\Users\muham\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-18 21:12:58.990 +05:30 [INF] Now listening on: https://localhost:7179
2025-09-18 21:12:58.990 +05:30 [INF] Now listening on: http://localhost:5179
2025-09-18 21:12:59.075 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-18 21:12:59.077 +05:30 [INF] Hosting environment: Development
2025-09-18 21:12:59.078 +05:30 [INF] Content root path: D:\SingleProject1\AuthServiceClone\AuthService
2025-09-18 21:13:00.581 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/index.html - null null
2025-09-18 21:13:01.035 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/index.html - 200 null text/html;charset=utf-8 470.4483ms
2025-09-18 21:13:01.081 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/_framework/aspnetcore-browser-refresh.js - null null
2025-09-18 21:13:01.085 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/_vs/browserLink - null null
2025-09-18 21:13:01.211 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 130.6086ms
2025-09-18 21:13:01.500 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/_vs/browserLink - 200 null text/javascript; charset=UTF-8 414.9307ms
2025-09-18 21:13:01.567 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/swagger/v1/swagger.json - null null
2025-09-18 21:13:01.600 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 33.6722ms
2025-09-18 21:14:17.594 +05:30 [INF] Starting Auth API
2025-09-18 21:14:17.763 +05:30 [INF] User profile is available. Using 'C:\Users\muham\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-18 21:14:18.233 +05:30 [INF] Now listening on: https://localhost:7179
2025-09-18 21:14:18.233 +05:30 [INF] Now listening on: http://localhost:5179
2025-09-18 21:14:18.301 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-18 21:14:18.307 +05:30 [INF] Hosting environment: Development
2025-09-18 21:14:18.307 +05:30 [INF] Content root path: D:\SingleProject1\AuthServiceClone\AuthService
2025-09-18 21:14:20.094 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/index.html - null null
2025-09-18 21:14:20.537 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/index.html - 200 null text/html;charset=utf-8 452.9086ms
2025-09-18 21:14:20.583 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/_vs/browserLink - null null
2025-09-18 21:14:20.583 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/_framework/aspnetcore-browser-refresh.js - null null
2025-09-18 21:14:20.607 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 35.7183ms
2025-09-18 21:14:20.737 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/_vs/browserLink - 200 null text/javascript; charset=UTF-8 154.7407ms
2025-09-18 21:14:20.807 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7179/swagger/v1/swagger.json - null null
2025-09-18 21:14:20.857 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7179/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 49.4496ms
2025-09-18 21:15:15.260 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7179/api/Auth/register - application/json 110
2025-09-18 21:15:15.271 +05:30 [INF] CORS policy execution successful.
2025-09-18 21:15:15.427 +05:30 [INF] Executing endpoint 'AuthService.Api.Controllers.AuthController.Register (AuthService.Api)'
2025-09-18 21:15:15.480 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(AuthService.Application.DTOs.Auth.RegisterRequestDto) on controller AuthService.Api.Controllers.AuthController (AuthService.Api).
2025-09-18 21:15:15.962 +05:30 [ERR] Database function register_with_password failed
Npgsql.PostgresException (0x80004005): 28P01: password authentication failed for user "postgres"
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.AuthenticateSASL(List`1 mechanisms, String username, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at AuthService.Infrastructure.Services.DatabaseFunctionService.RegisterWithPasswordAsync(int userId, String email, String password, String role, String ipAddress, String userAgent, Nullable`1 requestId) in D:\SingleProject1\AuthServiceClone\AuthService.Infrastructure\Services\DatabaseFunctionService.cs:line 36
  Exception data:
    Severity: FATAL
    SqlState: 28P01
    MessageText: password authentication failed for user "postgres"
    File: auth.c
    Line: 332
    Routine: auth_failed
2025-09-18 21:15:16.185 +05:30 [ERR] Registration failed for email: jane.doe@example.com
Npgsql.PostgresException (0x80004005): 28P01: password authentication failed for user "postgres"
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.AuthenticateSASL(List`1 mechanisms, String username, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at AuthService.Infrastructure.Services.DatabaseFunctionService.RegisterWithPasswordAsync(int userId, String email, String password, String role, String ipAddress, String userAgent, Nullable`1 requestId) in D:\SingleProject1\AuthServiceClone\AuthService.Infrastructure\Services\DatabaseFunctionService.cs:line 36
   at AuthService.Application.Services.AuthService.RegisterAsync(RegisterRequestDto request) in D:\SingleProject1\AuthServiceClone\AuthService.Application\Services\AuthService.cs:line 170
  Exception data:
    Severity: FATAL
    SqlState: 28P01
    MessageText: password authentication failed for user "postgres"
    File: auth.c
    Line: 332
    Routine: auth_failed
2025-09-18 21:15:16.346 +05:30 [INF] Executed action AuthService.Api.Controllers.AuthController.Register (AuthService.Api) in 861.5922ms
2025-09-18 21:15:16.349 +05:30 [INF] Executed endpoint 'AuthService.Api.Controllers.AuthController.Register (AuthService.Api)'
2025-09-18 21:15:16.808 +05:30 [ERR] An unhandled exception occurred
Npgsql.PostgresException (0x80004005): 28P01: password authentication failed for user "postgres"
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.AuthenticateSASL(List`1 mechanisms, String username, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at AuthService.Infrastructure.Services.DatabaseFunctionService.RegisterWithPasswordAsync(int userId, String email, String password, String role, String ipAddress, String userAgent, Nullable`1 requestId) in D:\SingleProject1\AuthServiceClone\AuthService.Infrastructure\Services\DatabaseFunctionService.cs:line 36
   at AuthService.Application.Services.AuthService.RegisterAsync(RegisterRequestDto request) in D:\SingleProject1\AuthServiceClone\AuthService.Application\Services\AuthService.cs:line 170
   at AuthService.Api.Controllers.AuthController.Register(RegisterRequestDto request) in D:\SingleProject1\AuthServiceClone\AuthService\Controllers\AuthController.cs:line 47
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AuthService.Api.Middleware.DigitalFingerprintMiddleware.InvokeAsync(HttpContext context) in D:\SingleProject1\AuthServiceClone\AuthService\Middleware\DigitalFingerprintMiddleware.cs:line 29
   at AuthService.Api.Middleware.RateLimitingMiddleware.InvokeAsync(HttpContext context) in D:\SingleProject1\AuthServiceClone\AuthService\Middleware\RateLimitingMiddleware.cs:line 51
   at AuthService.Api.Middleware.ExceptionMiddleware.InvokeAsync(HttpContext context) in D:\SingleProject1\AuthServiceClone\AuthService\Middleware\ExceptionMiddleware.cs:line 26
  Exception data:
    Severity: FATAL
    SqlState: 28P01
    MessageText: password authentication failed for user "postgres"
    File: auth.c
    Line: 332
    Routine: auth_failed
2025-09-18 21:15:16.857 +05:30 [ERR] HTTP POST /api/Auth/register responded 500 in 1580.9559 ms
2025-09-18 21:15:16.858 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7179/api/Auth/register - 500 null application/json 1598.6708ms
2025-09-18 21:17:16.805 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7179/api/Auth/login - application/json 70
2025-09-18 21:17:16.812 +05:30 [INF] CORS policy execution successful.
2025-09-18 21:17:16.815 +05:30 [INF] Executing endpoint 'AuthService.Api.Controllers.AuthController.Login (AuthService.Api)'
2025-09-18 21:17:16.835 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(AuthService.Application.DTOs.Auth.LoginRequestDto) on controller AuthService.Api.Controllers.AuthController (AuthService.Api).
2025-09-18 21:17:17.019 +05:30 [ERR] Database function authenticate_password failed
Npgsql.PostgresException (0x80004005): 28P01: password authentication failed for user "postgres"
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.AuthenticateSASL(List`1 mechanisms, String username, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at AuthService.Infrastructure.Services.DatabaseFunctionService.AuthenticatePasswordAsync(String email, String password, Object deviceInfo, Nullable`1 requestId) in D:\SingleProject1\AuthServiceClone\AuthService.Infrastructure\Services\DatabaseFunctionService.cs:line 76
  Exception data:
    Severity: FATAL
    SqlState: 28P01
    MessageText: password authentication failed for user "postgres"
    File: auth.c
    Line: 332
    Routine: auth_failed
2025-09-18 21:17:17.170 +05:30 [ERR] Login failed for email: jane.doe@example.com
Npgsql.PostgresException (0x80004005): 28P01: password authentication failed for user "postgres"
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.AuthenticateSASL(List`1 mechanisms, String username, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Authenticate(String username, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)
   at AuthService.Infrastructure.Services.DatabaseFunctionService.AuthenticatePasswordAsync(String email, String password, Object deviceInfo, Nullable`1 requestId) in D:\SingleProject1\AuthServiceClone\AuthService.Infrastructure\Services\DatabaseFunctionService.cs:line 76
   at AuthService.Application.Services.AuthService.LoginAsync(LoginRequestDto request, DeviceInfoDto deviceInfo) in D:\SingleProject1\AuthServiceClone\AuthService.Application\Services\AuthService.cs:line 74
  Exception data:
    Severity: FATAL
    SqlState: 28P01
    MessageText: password authentication failed for user "postgres"
    File: auth.c
    Line: 332
    Routine: auth_failed
2025-09-18 21:17:17.413 +05:30 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-18 21:17:17.418 +05:30 [INF] Executed action AuthService.Api.Controllers.AuthController.Login (AuthService.Api) in 582.4847ms
2025-09-18 21:17:17.418 +05:30 [INF] Executed endpoint 'AuthService.Api.Controllers.AuthController.Login (AuthService.Api)'
2025-09-18 21:17:17.418 +05:30 [ERR] HTTP POST /api/Auth/login responded 500 in 605.9174 ms
2025-09-18 21:17:17.419 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7179/api/Auth/login - 500 null application/json; charset=utf-8 615.3824ms
